/*
超市红包雨

cron:1 1 1 1 * jd_redrain_supermarket.js

*/

const $ = new Env('超市红包雨');
var iｉl='jsjiami.com.v7';const iil1ii=iii1II;(function(I1lIil,IIIl1i,liiII1,IIIl1l,lllll,i11ili,iil1l1){return I1lIil=I1lIil>>0x3,i11ili='hs',iil1l1='hs',function(lllli,iiili1,ill11i,lllill,ill11l){const IIIl1I=iii1II;lllill='tfi',i11ili=lllill+i11ili,ill11l='up',iil1l1+=ill11l,i11ili=ill11i(i11ili),iil1l1=ill11i(iil1l1),ill11i=0x0;const I1lIiI=lllli();while(!![]&&--IIIl1l+iiili1){try{lllill=parseInt(IIIl1I(0x19c,'Ebl9'))/0x1*(-parseInt(IIIl1I(0x12d,'sn$9'))/0x2)+-parseInt(IIIl1I(0x178,'gQc8'))/0x3*(-parseInt(IIIl1I(0x13d,'*F9X'))/0x4)+parseInt(IIIl1I(0x194,'b1OT'))/0x5*(-parseInt(IIIl1I(0x1dd,'nKOK'))/0x6)+-parseInt(IIIl1I(0x14c,'OOio'))/0x7*(parseInt(IIIl1I(0x152,'YF9U'))/0x8)+parseInt(IIIl1I(0x188,'s1Jl'))/0x9+-parseInt(IIIl1I(0x176,'1AyX'))/0xa*(-parseInt(IIIl1I(0x155,'xvZ('))/0xb)+parseInt(IIIl1I(0x1b3,'zbcE'))/0xc*(parseInt(IIIl1I(0x17b,'1AyX'))/0xd);}catch(lllili){lllill=ill11i;}finally{ill11l=I1lIiI[i11ili]();if(I1lIil<=IIIl1l)ill11i?lllll?lllill=ill11l:lllll=ill11l:ill11i=ill11l;else{if(ill11i==lllll['replace'](/[gltXqfexVpEHyGTnCRbQ=]/g,'')){if(lllill===iiili1){I1lIiI['un'+i11ili](ill11l);break;}I1lIiI[iil1l1](ill11l);}}}}}(liiII1,IIIl1i,function(IliiiI,Ill11,liiIII,li1i11,iI11I1,il1i1l,IlIlll){return Ill11='\x73\x70\x6c\x69\x74',IliiiI=arguments[0x0],IliiiI=IliiiI[Ill11](''),liiIII=`\x72\x65\x76\x65\x72\x73\x65`,IliiiI=IliiiI[liiIII]('\x76'),li1i11=`\x6a\x6f\x69\x6e`,(0x159fad,IliiiI[li1i11](''));});}(0x638,0xb5630,Iii11l,0xc9),Iii11l)&&(iｉl=0x126e);const jdCookie=require(iil1ii(0x169,'X54!')),notify=require(iil1ii(0x164,'dOz5')),common=require(iil1ii(0x1de,'s!iC')),{H5st}=require('./utils/Rebels_H'),isNotify=![];let cookie='';const cookiesArr=Object[iil1ii(0x1ff,'YTxa')](jdCookie)[iil1ii(0x1d9,'O]$K')](l11i1I=>jdCookie[l11i1I])[iil1ii(0x16f,'1AyX')](IiII=>IiII);!cookiesArr[0x0]&&($[iil1ii(0x14b,'sMr(')]($[iil1ii(0x1d5,'avK1')],iil1ii(0x1d2,'SgQY')),process[iil1ii(0x172,'L[)^')](0x1));type_map={0x4:iil1ii(0x1e4,'xvZ('),0x5:iil1ii(0x214,'MN0O')},!(async()=>{const IlIlli=iil1ii,llIIli={'JmCVH':IlIlli(0x173,'OKTe'),'ckZSi':function(lIII1I,illIlI,liIiI){return lIII1I(illIlI,liIiI);},'OrVlW':function(l1il1I,Iiili){return l1il1I===Iiili;},'aGcpX':IlIlli(0x162,'Z0DD'),'YqtOR':function(IilIli,li1){return IilIli<li1;},'DnkPo':function(illIl1,l1llII){return illIl1+l1llII;},'MBJgZ':function(IilIll,lI11Ii){return IilIll(lI11Ii);},'xLsMg':function(Iiill){return Iiill();},'VCYka':IlIlli(0x19a,'S@Yd')};authorCodeList=await getAuthorCodeList(llIIli[IlIlli(0x13b,'eRFW')]);if(authorCodeList){console[IlIlli(0x19b,'avK1')](IlIlli(0x126,'64&a')),$['projectId']=authorCodeList[llIIli[IlIlli(0x180,'dOz5')](random,0x0,authorCodeList[IlIlli(0x1d0,'81%6')])];if(llIIli[IlIlli(0x1c0,'idkh')]($[IlIlli(0x149,'81%6')],'1')){console['log'](llIIli['aGcpX']);return;}}else{console['log'](IlIlli(0x1c9,'YF9U'));return;}notify[IlIlli(0x1b2,'nKOK')]({'title':$['name']});for(let l11i1i=0x0;llIIli[IlIlli(0x191,'M@eq')](l11i1i,cookiesArr[IlIlli(0x1c1,'YF9U')]);l11i1i++){$[IlIlli(0x13a,'nQTu')]=llIIli[IlIlli(0x182,'^]*y')](l11i1i,0x1),cookie=cookiesArr[l11i1i],common[IlIlli(0x13e,'wXcL')](cookie),$[IlIlli(0x130,'!d@h')]=llIIli[IlIlli(0x16a,'*F9X')](decodeURIComponent,common['getCookieValue'](cookie,'pt_pin')),$['message']=notify[IlIlli(0x1ec,'Ebl9')]($[IlIlli(0x137,'nKOK')],$[IlIlli(0x130,'!d@h')]),$[IlIlli(0x1bf,'g!nO')]='',console[IlIlli(0x1fe,'%!3C')](IlIlli(0x143,'64&a')+$['index']+'】'+($[IlIlli(0x21e,'b1OT')]||$[IlIlli(0x175,'*F9X')])+IlIlli(0x1f4,'eRFW')),$['UA']=common[IlIlli(0x14a,'9g*i')]($['UserName']),await llIIli['xLsMg'](Main),common[IlIlli(0x1e7,'nKOK')]();if($['runEnd'])break;await $['wait'](0x3e8);}isNotify&&notify[IlIlli(0x1eb,'S@Yd')]()&&(llIIli[IlIlli(0x1c5,'!d@h')](llIIli['VCYka'],llIIli['VCYka'])?await notify[IlIlli(0x17a,'^]*y')]():(i1illI[IlIlli(0x211,'Z0DD')](i1IIl),I1lll1&&(Iil1I1[IlIlli(0x1b9,'b1OT')]=!![],Ii1iII['message']&&Ii1iI1[IlIlli(0x204,'*F9X')][IlIlli(0x1e8,'s!iC')](lilIli))));})()[iil1ii(0x16e,'t3pW')](l1il11=>$['logErr'](l1il11))['finally'](()=>$[iil1ii(0x146,'O]$K')]());async function Main(){const il1i1i=iil1ii,IiI1={'mPiId':il1i1i(0x17d,'pXbF'),'jHGNi':function(illIli,l11i1l){return illIli(l11i1l);},'dxkww':'redRainInitProjectScene','ZarwR':il1i1i(0x153,'slUL'),'hMEVt':il1i1i(0x1a5,'L[)^'),'qZsbP':function(lIII11,IiilI){return lIII11+IiilI;},'TwvIS':'没有找到当前时间段场次','ztZSM':function(ii1I11,liIi1){return ii1I11===liIi1;},'sFfpw':'KoTvD','DAiOO':il1i1i(0x216,'O]$K'),'cQixy':function(lI11II,l1llI1,llIIll){return lI11II(l1llI1,llIIll);},'anqYN':function(IillIi,lii){return IillIi!==lii;},'waetV':il1i1i(0x125,'rIFn')},liI=await common[il1i1i(0x190,'gQc8')](cookie);if(!liI&&typeof liI==='boolean'){console[il1i1i(0x1f1,'b1OT')](il1i1i(0x189,'sn$9'));return;}try{$['sotpRun']=![],await IiI1[il1i1i(0x1dc,'t3pW')](sendRequest,IiI1['dxkww']);if($[il1i1i(0x128,'OKTe')])IiI1[il1i1i(0x1e5,'1AyX')]===IiI1[il1i1i(0x1b5,'eRFW')]?IiiIl1?l1lIl1=IiiIlI[il1i1i(0x1a2,'gQc8')](Iilli1)||'':I1l1Il['log'](IiI1[il1i1i(0x15a,'81%6')]):console[il1i1i(0x1ed,'SgQY')](IiI1[il1i1i(0x156,'xvZ(')](il1i1i(0x124,'pXbF'),$[il1i1i(0x14d,'dBb$')]));else{console['log'](IiI1[il1i1i(0x199,'M@eq')]),$[il1i1i(0x12a,'MN0O')]=!![];return;}for(let i11I1l=0x0;i11I1l<0x5;i11I1l++){if(IiI1[il1i1i(0x208,'SgQY')]('KoTvD',IiI1['sFfpw'])){await IiI1[il1i1i(0x18e,'MN0O')](sendRequest,IiI1[il1i1i(0x21a,'SgQY')]);if($['sotpRun'])break;await $[il1i1i(0x1c4,'9g*i')](IiI1[il1i1i(0x197,'^]*y')](parseInt,IiI1[il1i1i(0x141,'s!iC')](Math[il1i1i(0x1bb,'gQc8')]()*0x7d0,0x7d0),0xa));}else IiilIi[il1i1i(0x1be,'z[BP')]('❓'+IiilIl[il1i1i(0x1d4,'nQTu')]);}}catch(IllI1l){IiI1[il1i1i(0x133,'dOz5')](IiI1[il1i1i(0x1df,'slUL')],IiI1[il1i1i(0x1da,'9g*i')])?(i1illl['outFlag']=!![],I1llil[il1i1i(0x1cb,'Ebl9')]&&l1i111[il1i1i(0x168,'M@eq')][il1i1i(0x1f8,'wXcL')](iliII1)):console[il1i1i(0x19e,'81%6')](il1i1i(0x131,'!d@h')+IllI1l);}}async function handleResponse(IillIl,llliil){const lil111=iil1ii,liIl1={'xADWr':lil111(0x142,'lbFt'),'HNRTN':lil111(0x1ef,'s!iC'),'kPvdK':function(II1lll,II1lli){return II1lll(II1lli);},'XJvNE':lil111(0x1af,'t3pW'),'RnFVe':function(ii1I1I,IiIl){return ii1I1I===IiIl;},'KqYbC':lil111(0x17c,'OOio'),'hGpmD':function(IiIi,iI1ll1){return IiIi<iI1ll1;},'kzvxm':'redRainStartLottery','Vjkrf':function(IlI1Il,l1il1l){return IlI1Il===l1il1l;},'zqwCu':function(liIil,IllI1I){return liIil!==IllI1I;},'ASbBC':'YYvZY','Hmkfk':lil111(0x1ba,'rIFn'),'mIZZH':function(liIii,II1ll1){return liIii!==II1ll1;},'fEPjm':function(IlI1Ii,i11I1I){return IlI1Ii+i11I1I;},'VCByy':lil111(0x163,'*F9X'),'OyxPk':function(l1il1i,ll1){return l1il1i!==ll1;},'MpBhA':lil111(0x161,'Ebl9'),'qHSzj':lil111(0x219,'SgQY')};try{switch(IillIl){case liIl1[lil111(0x181,'gQc8')]:if(llliil[lil111(0x20f,'zbcE')]&&liIl1[lil111(0x1c8,'b1OT')](llliil[lil111(0x1f7,'rEFv')],0x0)){$[lil111(0x18f,'sMr(')]=llliil?.['data']?.[lil111(0x139,'O]$K')];let iI1llI=Math[lil111(0x1c7,'SgQY')](Date[lil111(0x212,'sn$9')]()/0x3e8);for(let llliii of llliil?.[lil111(0x1ee,'dBb$')]?.[lil111(0x1d8,'sn$9')]||[]){if(liIl1[lil111(0x200,'64&a')](lil111(0x1ea,'YF9U'),liIl1['KqYbC'])){if(liIl1[lil111(0x158,'g!nO')](iI1llI,llliii[lil111(0x136,'OKTe')])&&iI1llI>llliii[lil111(0x150,'pXbF')]){$[lil111(0x15e,'s1Jl')]=llliii[lil111(0x159,'^]*y')];break;}}else{i1l1lI[lil111(0x15f,'wXcL')](liIl1[lil111(0x16b,'lbFt')]),i1iliI[lil111(0x13f,'eRFW')]=!![];return;}}}else console[lil111(0x18a,'zbcE')]('❓'+llliil[lil111(0x14e,'%!3C')]);break;case liIl1[lil111(0x165,'L[)^')]:if(llliil['data']&&liIl1['Vjkrf'](llliil[lil111(0x1e3,'MN0O')],0x0)){let {name:l1llIi,num:II1llI,type:i11I11}=llliil?.[lil111(0x1ce,'lbFt')],l1llIl='';switch(i11I11){case 0x4:{if(liIl1['zqwCu'](liIl1[lil111(0x210,'eRFW')],liIl1['Hmkfk'])){l1llIl='['+type_map[i11I11]+']'+l1llIi+'元';break;}else i1lI[lil111(0x157,'s!iC')]=!![],IlI1l[lil111(0x1b8,'$]v^')](lilIil[lil111(0x1aa,'9g*i')]);}case 0x5:{l1llIl='['+type_map[i11I11]+']'+l1llIi;break;}default:{if(liIl1[lil111(0x16d,'pXbF')]('ULYYY',lil111(0x193,'pXbF'))){l1llIl=lil111(0x135,'s1Jl')+i11I11+']'+l1llIi+'X'+II1llI;break;}else{I1iIl1[lil111(0x1b0,'gQc8')](liIl1[lil111(0x1f3,'nKOK')]);return;}}}console['log'](liIl1['fEPjm'](liIl1[lil111(0x177,'t3pW')],l1llIl));}else{if(liIl1[lil111(0x200,'64&a')](llliil['code'],0xd2))liIl1['OyxPk'](liIl1[lil111(0x1c6,'sn$9')],liIl1['qHSzj'])?($[lil111(0x1cf,'pXbF')]=!![],console[lil111(0x19b,'avK1')](llliil['msg'])):liIl1[lil111(0x215,'nQTu')](IlI1il,IilliI);else liIl1[lil111(0x1db,'wXcL')](llliil[lil111(0x18c,'avK1')],0xd5)?console[lil111(0x21d,'slUL')](llliil['msg']):console[lil111(0x203,'rEFv')]('❓'+llliil[lil111(0x186,'&Lgp')]);}break;}}catch(llliI){console[lil111(0x1be,'z[BP')]('❌\x20未能正确处理\x20'+IillIl+lil111(0x132,'idkh')+(llliI['message']||llliI));}}function Iii11l(){const i11il1=(function(){return[...[iｉl,'RHXjCbsnejyHGiXtaTfmiQgV.pgcgoEm.Cpqvl7x==','tmk7WPpcQCosWO3cN3SyaSoP','WPu6qrP0yH7cMauKW4ldPfZdOG','h8ovpSkjBW','vtaqeSkM','W4aRohrT','gdFdMCo5W4RdIKyGWRJcSG','WPu6qr4UDGm','WPJcM3L6W4O','W7tdQxe6pa','tM7cNCk4W7C','eSotpmkpBG','ErJdJ8kXWPi','WOaRpG','W57cLx4XW7SpeG','pUAENUInMUwmRowiIEAxLUApLSoi5y6S6ik+5REV5yIe5BE857My57QJ5P+n','WPZcR8k1','WRH3W6dcHhy','W7dcVmkfWQVcQmoBW7zzWRpdNq','W5Cem8kaW6a','WOi+rYv+','W6VdT8oCzIK','ub/cJ8oCnSo6WPThFSklfG','WQObo8kSWPq','WOaDcSkmWQ8','WR3cLCkDbN/dMSknn8ooWOxdMmopW6W','rX7cGCoSh8oPxmkmh1S','WQSWeJrsWQpdISouEe0cua','WRdcSN0','WOq8WQvNWPrGBa','W7xdSuNdUutdR8kUsCk9','WPTNhCklW6HlcG','W7btWR5bWPVcIYi','WQdcJSk5W7uTCrvrW6/cGcBcIJVdPCo2W6DkvSoXWPjxvCkc','WP4WuG','AConqmo+W5O','b8kiz8kbW7Ds','WOykWOxdLtfeWR/dTa','W6hdUSka','cSoGufBdGa','EEIUHoAWRUwKToI2Lmkb4P+euW','fUIUKEAXTUwLHUI0JqZINzddMoAxT+wsLUw7OoAuUUAmGW','gehdKq','rhBcMCkkW6ldHu4','qIrUeeO','WOa+wZj0Aa','8lMiNIa','v8kSWPNcS8kAWO/cH1WpcG','W43cHHq','WOz7hCkdW4nzfmoC','DSogWO93W7G','W7xdKg45W5BcJG','uCoaWQ1RW5ZcOCkKWPXIbCkNW55Ih8oArHC9jcXAh8owW5Lz','WR5pW7JcVa','WQRcOhni','hmo4xCkyWPu','zJDpW6ddLq','v8oiACoNW74','Ew3cQ8kAW6S','WPpMTO7LIQJOJ6NLJBtLP5FOTltcHUISLEAIOoAFRoE8OUE6OUAzVEwsSoAVQow5Ra','W7mnmh11','WOlcL143W7iPgG','dCkiEG','t2lcMCkT','W6VdHSozuq','W7ePa2fukK8','WPZcPCk8FCogdW','WRNdKmkpW5/cTG','44cH5O2056s844kz6k275yE06i205y6rWPNdILftW60v','WOSPdCk7WQpdPmoAtmkHW5FcPmomW7Svp8ktyNWLWOSPoSkE','wCohWOO','WOiLnmkd','WRxcJSkPW695AW8','uCoBWRD8W43dUSoKW4P2','sIr5W6hdOHyDWPymWOuoW60','ceNdJG','WQRcOh9iW6G','WR0JWRPtWP4','WRJcO8kAW6KL','v8oxpSoFW4zyW7pcIedcHq','WOGHWPddJuT5zSk5vmoOe2nZWRX8l8k+W4tcV8kPWQNcRx0','WRtdQCouW6RcUG','W4tdSSoQEJC','WQi8kCkUxa'],...(function(){return[...['W6pdGhq0na','e8kYaCk1','6lEz5BMr5y2a','W5FdTmkvWR/cKW','WRFcSXBcOHhcVSkYECkoWQ5XtG','eCkjESkcW6P2W7tcT3/cVt0','W4bNWP0','W7FdTKJdLK/dQa','W7FdVeivW4u','AYNdVCkuWObFW4rSWQFdNG','WOZcGeGLW6CR','xColyq','WR3cNmojW7S','WQZLVz3MN7RMTOlLIORLT6FNU5RNUyxMNzNcOEIUHUETJ+w+MUs7HoASGUA1VUwjSG','xWLh','r2ZcIG','W6JdM27dL0O','lmkPw8kZW5a','smkhpYRcNSkXiW','sWNdNq','dCo/W4ZdTmke','W75zWQLx','WO0GWQK','W4nRWRjOW7hdJmk+wLe','mqCyDCocWPT3xmo0W4DhW5u/vSo4fcj8W5a','W4/dJNhdTw8','ewVdSCkXkq','WRhcRru','nrWl','W67dPL/dOa','WRKfWPBdGCk7','W4pdKMmhW5i','W4effwrO','W7fzWQO','WPxdMmkUW6/cGmooW6e','W67dHmozwtdcI8onjCo+WOO','emoiCvldLCoYr8kuW5ddUXjLjNT7W6VcPZur','oL00hIK','s8oqxmoBW4e','aKGh','WOqRn8kbCSkwl8oKW4m','WR0hlCkUxq','W4FdT0Sw','oZzvrSoNW7KRW5ldL3GLW5jKWQ1bk21Mva','W6xdNwK3iduP','W5bFWOxdUW','i8o+D0ldTW','W6/dPSkQ','rsH6','D8o3WO/cJ1C','5l2O5Oc95yMD','x8oKWPVcNNi','f03dMSk4BSo/WPHTC8k8c8k0ouxcS8oCWPVcSCk6','sxKje8oi','W64Pea','rSoRAmofW6q','DCoLB8ohW4m','WOSTEcf0','W6u8hMeQF0xcKCknW7uuareEWOPlWQm','WQ/dP8ow','rwRcJSkNW4ddHuqO','5RA55yUU6i+a5y+h5OIw5yUa77YT5B6N5yQM5RAI5yUDtW','yWvDb3S','W6hMNABLIBhNIkhMG5/MRB/LURxVVkJMT5lLIOROJ5RLJlJMIkJLIB4','W5tcMtddG8ks','A8onpICLW7ddL09kW40','W4n4WQ9JW7NdNa','aSkOc8kvW7BcJa','W6BdRftdOa','aLuarr8CWRtcV20sbWu','gxC9WRNcPe0bWPyxWQGNW68','WQRdN8oNW7/cHa','W7ZdHSoavwVcJColnCoqWOFdSq','bSo5BSkgWOZcV8kSda','4PYFWQROHjhMN5JOVjlOOPlPGOBLIzNKUypPL6lORyLZ','gEITG+AYM+wtLUw4U8k7','yIGwlmkY','WPhcSmkIDSoBbhlcJde+WOnBlSoArJpcUW3cM8oyW4KRtx5+W53cM8oJsLpcOxnx','g1O7asNcPq','B8oalHO6W7tdHG','dCkjBCkcW6y','WPOozSk3FtBdJCkt','fvRdKCkaASo1WOjWzSkWha','xCoAWONcN0e','kmoavLBdVa'],...(function(){return['4P+BWPJMNllOGR/MRkBNOkJLPzNNK50G','W4hcHCoSWQ7dKmkBW5auWO3dP8oPiq','WPGSWQvIWPDUymopiq','emoyE0xdMSo/','W4PHWOi','W5DuWPBdM3i','5RcU5P6U5OUt5yIa5BYv5yQV5Pwp6zAO5QYc5z+u5Q6+','W6fbW7RcVCo0nSkN5BYK5AsI44cY5lUb5lUY6lsE5yYw','W7GUcmkkW7a','p8o8ESkXWO0','auFdKmkp','C34pcSoIrq','W5OvgmkWzmkegG','WOdcSSk9CmoxbgFcStW','WRRcPhrPW78','uCk6WPS','W7WzWQddVGZcLG4oESkMWR8','WQNcJ8osW7bedWP5o8oYiG','naal','n8oIr8k+WQy','W7eYfMnYc0JcMCko','W6RdMmoVW5mJsWToW4q','WQhcHJiQW43cTwhdVmkN','WOhdOmoGW73cPW','WPyOgCkXWRS','BwSwFCoVW74HW4ldIq','lqLsAmow','W5vHWPhdIxbGEW','WObvdSkfW4K','W7BdM2WRmY8PWQjjW58','WP3cKmk7u8ow','WQRcLxWvW4O','W6/dM1emnG','hSoXiCkKEW','iu02gdRdSCk9WRVcKGG','WOCMWRy','mJujqmoA','WQRcPgmTW5q','WONLV5RMN5lMTAxLIRVLT6JNUPpNURNMN6xcOEIURoEVJUw8TEs7NUAUOUA0IEwlJW','5Okv5zsH5OMG5lQX77+7','lwKsaCkvW7C8a18WWQ1pW5ZcUmoGb8oZW7dcUKJcJrflrYuHW64','WPi2h8krWQ8','W7lORjZMSP/LKARLU5G4','WPtdKSk6','k8oboCk1xmkhWQ8','WP02WRDMW5FdGmkLEfZcKG','WRxdV8kxW7VcUW','W7FdPSoPzZq','WPFcPCkM','W68pluTo','WRhcISkPW4qK','W6VdVmklWRZcPbC','qJtdUCkrWQK','mK8SfspdTq','WPW0amkD','ySoApJ5PWRBcJfvSW40eqCo/W4RdGWRdH3ZcOCkvdCkWWQ9UW4r5WQhdO8oQWOBcKSopeHdcLmoTsGC','W6xdNxWqjc8ZWOH0W5RcHttcV2FcHmommJ1W','WQ3dJSk4W67cR8oiW6KW','WRNcPSotW7RdTLxcUSouogjbqG','WOtcQmkFW541','W4qoDabVDI0','W43dJ281eq','W6FdJwSQ','WR/cP8oxW77dUf3dTSo4o0b1DYK','WQDNW5pcG1i','WOJMNAZOJ4dLJ4FLIlBMLk/MJy/dMowmHoIbPoA1JUwlNEw2HUE7VEE5UEADTG','W5PXW6zwWPfYzmoflG','WO5AmSkYW7G','yc09jSkv','WQOvqXHE','W5pdLNmskG','W6RdJSoNssO','W7vtWQXwWP/cNJq','BYKammkoW6K','BMWA','W5b9WOFdQce','DbX7r3xcQCo8WQ7cQYjWWOCu','6lsn5y6W5PET5PEa','W5HrWPy','qXz3nha','WO8RpCkd','uGnaa3W','gSkviSkEW7e'];}())];}())];}());Iii11l=function(){return i11il1;};return Iii11l();}function iii1II(_0x30304e,_0x1d5379){const _0x20f039=Iii11l();return iii1II=function(_0x23c628,_0x507803){_0x23c628=_0x23c628-0x124;let _0x4ea381=_0x20f039[_0x23c628];if(iii1II['QJpcKd']===undefined){var _0x155b82=function(_0x1b17b3){const _0x53b564='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x46d559='',_0x3b5c81='';for(let _0x17bad2=0x0,_0x5af3eb,_0x23db3a,_0x41fa86=0x0;_0x23db3a=_0x1b17b3['charAt'](_0x41fa86++);~_0x23db3a&&(_0x5af3eb=_0x17bad2%0x4?_0x5af3eb*0x40+_0x23db3a:_0x23db3a,_0x17bad2++%0x4)?_0x46d559+=String['fromCharCode'](0xff&_0x5af3eb>>(-0x2*_0x17bad2&0x6)):0x0){_0x23db3a=_0x53b564['indexOf'](_0x23db3a);}for(let _0x452476=0x0,_0x2fd460=_0x46d559['length'];_0x452476<_0x2fd460;_0x452476++){_0x3b5c81+='%'+('00'+_0x46d559['charCodeAt'](_0x452476)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x3b5c81);};const _0xd767a4=function(_0x2730ea,_0x7bb1c5){let _0x1f3e7d=[],_0x153836=0x0,_0x14bc9f,_0x1975f4='';_0x2730ea=_0x155b82(_0x2730ea);let _0x1a0d31;for(_0x1a0d31=0x0;_0x1a0d31<0x100;_0x1a0d31++){_0x1f3e7d[_0x1a0d31]=_0x1a0d31;}for(_0x1a0d31=0x0;_0x1a0d31<0x100;_0x1a0d31++){_0x153836=(_0x153836+_0x1f3e7d[_0x1a0d31]+_0x7bb1c5['charCodeAt'](_0x1a0d31%_0x7bb1c5['length']))%0x100,_0x14bc9f=_0x1f3e7d[_0x1a0d31],_0x1f3e7d[_0x1a0d31]=_0x1f3e7d[_0x153836],_0x1f3e7d[_0x153836]=_0x14bc9f;}_0x1a0d31=0x0,_0x153836=0x0;for(let _0x5cbbd4=0x0;_0x5cbbd4<_0x2730ea['length'];_0x5cbbd4++){_0x1a0d31=(_0x1a0d31+0x1)%0x100,_0x153836=(_0x153836+_0x1f3e7d[_0x1a0d31])%0x100,_0x14bc9f=_0x1f3e7d[_0x1a0d31],_0x1f3e7d[_0x1a0d31]=_0x1f3e7d[_0x153836],_0x1f3e7d[_0x153836]=_0x14bc9f,_0x1975f4+=String['fromCharCode'](_0x2730ea['charCodeAt'](_0x5cbbd4)^_0x1f3e7d[(_0x1f3e7d[_0x1a0d31]+_0x1f3e7d[_0x153836])%0x100]);}return _0x1975f4;};iii1II['aeIszI']=_0xd767a4,_0x30304e=arguments,iii1II['QJpcKd']=!![];}const _0x17290d=_0x20f039[0x0],_0x2319dc=_0x23c628+_0x17290d,_0x86d790=_0x30304e[_0x2319dc];return!_0x86d790?(iii1II['SSHLbS']===undefined&&(iii1II['SSHLbS']=!![]),_0x4ea381=iii1II['aeIszI'](_0x4ea381,_0x507803),_0x30304e[_0x2319dc]=_0x4ea381):_0x4ea381=_0x86d790,_0x4ea381;},iii1II(_0x30304e,_0x1d5379);};async function sendRequest(iI1li1){const i11ilI=iil1ii,lllii1={'XiFvV':i11ilI(0x20c,'^]*y'),'eiJyl':i11ilI(0x1d3,'L[)^'),'xcINs':i11ilI(0x1f5,'S@Yd'),'AmRCW':i11ilI(0x1f6,'sMr('),'eEGen':i11ilI(0x206,'eRFW'),'dhLJd':i11ilI(0x1d7,'idkh'),'QCtHM':i11ilI(0x1cc,'nKOK'),'ZYDTV':i11ilI(0x209,'rIFn'),'mXHDk':i11ilI(0x134,'81%6'),'dPqVo':i11ilI(0x1bd,'sMr('),'WleGk':i11ilI(0x1fa,'%!3C'),'qKGls':i11ilI(0x138,'Y9W^'),'zsvoe':i11ilI(0x198,'b1OT'),'fUNTG':i11ilI(0x12b,'YTxa'),'EZcFt':i11ilI(0x12f,'lbFt'),'CCbun':function(lli,liIlI){return lli===liIlI;},'XUkbF':'Content-Type','JMWfN':function(lll,llli1){return lll===llli1;},'NxpHL':i11ilI(0x154,'L[)^'),'lvqEO':function(iIli1i,iI1lii){return iIli1i>iI1lii;},'VvwgZ':'QOGzz','JKvDA':i11ilI(0x21b,'gQc8'),'lqyQP':i11ilI(0x179,'^]*y'),'JftxG':'HUgHk','txlvq':function(IilIii,iI1lil){return IilIii>=iI1lil;},'lSroH':function(l1lIi1,iIli1l){return l1lIi1!==iIli1l;},'ZgcYp':i11ilI(0x18b,'rIFn')};if($[i11ilI(0x1e9,'YTxa')]||$[i11ilI(0x1ab,'wXcL')])return;let liIli='',liIll='',IilIi1=lllii1[i11ilI(0x1b1,'SgQY')],iI1liI=null,l1lIiI={};switch(iI1li1){case lllii1[i11ilI(0x183,'lbFt')]:IilIi1=i11ilI(0x1f5,'S@Yd'),l1lIiI={'appId':'c18e1','functionId':lllii1['eiJyl'],'appid':i11ilI(0x20a,'avK1'),'clientVersion':common['getLatestAppVersion'](),'client':i11ilI(0x1f0,'rIFn'),'body':{'projectId':$[i11ilI(0x1ac,'YTxa')]},'version':i11ilI(0x1fd,'YTxa'),'t':!![]},iI1liI=await H5st[i11ilI(0x195,'gQc8')](l1lIiI),liIli=i11ilI(0x1c2,'idkh')+iI1liI[i11ilI(0x147,'&Lgp')];break;case i11ilI(0x174,'^]*y'):IilIi1=lllii1[i11ilI(0x15c,'^]*y')],l1lIiI={'appId':lllii1[i11ilI(0x1d1,'*F9X')],'functionId':lllii1[i11ilI(0x1fc,'$]v^')],'appid':lllii1[i11ilI(0x14f,'!d@h')],'clientVersion':common[i11ilI(0x20d,'xvZ(')](),'client':lllii1[i11ilI(0x20b,'avK1')],'body':{'projectId':$[i11ilI(0x1f9,'X54!')],'activityId':$[i11ilI(0x205,'lbFt')]},'version':lllii1['ZYDTV'],'t':!![]},iI1liI=await H5st[i11ilI(0x1d6,'t3pW')](l1lIiI),liIli='https://api.m.jd.com/api?'+iI1liI[i11ilI(0x129,'X54!')];break;default:console[i11ilI(0x167,'*F9X')]('❌\x20未知请求\x20'+iI1li1);return;}const llliiI={'url':liIli,'method':IilIi1,'headers':{'Accept':lllii1[i11ilI(0x1f2,'YTxa')],'Accept-Encoding':i11ilI(0x21c,'pXbF'),'Accept-Language':'zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6','Connection':lllii1[i11ilI(0x1a3,'lbFt')],'Content-Type':'application/x-www-form-urlencoded','Cookie':cookie,'Origin':lllii1['WleGk'],'Referer':lllii1['WleGk'],'x-rp-client':lllii1[i11ilI(0x1ca,'pXbF')],'Sec-Fetch-Dest':lllii1[i11ilI(0x207,'s1Jl')],'Sec-Fetch-Mode':lllii1['fUNTG'],'Sec-Fetch-Site':lllii1[i11ilI(0x196,'9g*i')],'User-Agent':$['UA']},'body':liIll,'timeout':0x7530};lllii1[i11ilI(0x213,'nQTu')](IilIi1,lllii1['xcINs'])&&(delete llliiI['body'],delete llliiI[i11ilI(0x184,'rEFv')][lllii1[i11ilI(0x15d,'M@eq')]]);const IilIiI=0x1;let i1i1I1=0x0,IlII1=null,IiI11=![];while(i1i1I1<IilIiI){if(lllii1[i11ilI(0x1fb,'YTxa')](lllii1[i11ilI(0x170,'S@Yd')],lllii1[i11ilI(0x1e1,'avK1')])){lllii1[i11ilI(0x145,'!d@h')](i1i1I1,0x0)&&await $[i11ilI(0x1c3,'OOio')](0x3e8);const i1i1II=await common[i11ilI(0x20e,'^]*y')](llliiI);if(!i1i1II[i11ilI(0x1ad,'g!nO')]){if(lllii1[i11ilI(0x192,'dOz5')]===lllii1['JKvDA'])IiiIli[i11ilI(0x218,'pXbF')]('\x0a未获取到数据,可能活动已经结束');else{IlII1=i11ilI(0x1bc,'YF9U')+iI1li1+i11ilI(0x1b6,'%!3C')+i1i1II[i11ilI(0x1a1,']&xy')],i1i1I1++;continue;}}if(!i1i1II?.[i11ilI(0x1ee,'dBb$')]){if(lllii1[i11ilI(0x202,'pXbF')](lllii1['lqyQP'],lllii1[i11ilI(0x217,'&Lgp')]))llIlii['logErr'](llIlil,IIlil),ilI1lI=null;else{IlII1='🚫\x20'+iI1li1+i11ilI(0x1b7,'rIFn'),i1i1I1++;continue;}}handleResponse(iI1li1,i1i1II[i11ilI(0x1cd,'b1OT')]),IiI11=![];break;}else li1I1[i11ilI(0x18a,'zbcE')]('❓'+i1ilil['msg']);}if(lllii1[i11ilI(0x1e2,'^]*y')](i1i1I1,IilIiI)){if(lllii1['lSroH'](i11ilI(0x12e,'slUL'),i11ilI(0x160,'%!3C'))){console['log'](IlII1);if(IiI11){if(lllii1['JMWfN'](lllii1[i11ilI(0x201,'YF9U')],i11ilI(0x127,'z[BP')))$['outFlag']=!![],$['message']&&$['message']['fix'](IlII1);else{IiilII[i11ilI(0x1b4,'1AyX')]('账号无效');return;}}}else delete Ii1iIi['body'],delete iliIIl['headers']['Content-Type'];}}function random(iI11II,iIII1I){const ii1ii1=iil1ii,ilil1i={'dCvrz':function(IlIIi,IiI1l){return IlIIi+IiI1l;},'JXIeb':function(illlII,iIII11){return illlII*iIII11;}};return ilil1i[ii1ii1(0x187,'zbcE')](Math['floor'](ilil1i[ii1ii1(0x144,']&xy')](Math[ii1ii1(0x171,'s1Jl')](),iIII1I-iI11II)),iI11II);}function getAuthorCodeList(IiI1i){const llllI=iil1ii,llll1={'qYqLC':llllI(0x1e0,'lbFt'),'EgQQY':function(lil11l,i1i1Il){return lil11l(i1i1Il);}};return new Promise(I1lIl1=>{const lllil1=llllI,lil11i={'yQcem':llll1[lllil1(0x19f,'OOio')],'fHLZu':lllil1(0x19d,'nQTu'),'dettT':function(lI1liI,i1i1Ii){const iil1il=lllil1;return llll1[iil1il(0x15b,'Ebl9')](lI1liI,i1i1Ii);}},IlIIl={'url':''+IiI1i,'timeout':0x2710,'headers':{'User-Agent':'Mozilla/5.0\x20(iPhone;\x20CPU\x20iPhone\x20OS\x2013_2_3\x20like\x20Mac\x20OS\x20X)\x20AppleWebKit/605.1.15\x20(KHTML,\x20like\x20Gecko)\x20Version/13.0.3\x20Mobile/15E148\x20Safari/604.1\x20Edg/87.0.4280.88'}};$[lllil1(0x16c,'81%6')](IlIIl,async(lllii,iI11Ii,iIII1l)=>{const ilil1I=lllil1;try{if(lllii){}else iIII1l?lil11i['yQcem']===lil11i[ilil1I(0x1a6,'L[)^')]?iIII1l=JSON['parse'](iIII1l)||'':iliIII['log'](ilil1I(0x13c,'^]*y')+iIIl1i+ilil1I(0x166,'t3pW')+(I1lllI[ilil1I(0x1ae,'rEFv')]||ill111)):console[ilil1I(0x140,'s!iC')](lil11i[ilil1I(0x17f,'g!nO')]);}catch(iI11Il){$[ilil1I(0x185,'dOz5')](iI11Il,iI11Ii),iIII1l=null;}finally{lil11i[ilil1I(0x18d,'rIFn')](I1lIl1,iIII1l);}});});}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `🔔${this.name}, 开始!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============📣系统通知📣=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `❗️${this.name}, 错误!`, t.stack) : this.log("", `❗️${this.name}, 错误!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `🔔${this.name}, 结束! 🕛 ${s} 秒`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }
