/*
活动名称：频道场馆批量签到

cron: 56 9 * * *

*/

const $ = new Env('频道场馆批量签到')
var iｉl='jsjiami.com.v7';const i11ili=iii1II;(function(iI11Ii,iIII1l,lllil,iI11Il,iIII1i,iil1i1,il1i11){return iI11Ii=iI11Ii>>0x9,iil1i1='hs',il1i11='hs',function(IlIll1,IlIII,ilil1l,illlIi,I1lIii){const lllll=iii1II;illlIi='tfi',iil1i1=illlIi+iil1i1,I1lIii='up',il1i11+=I1lIii,iil1i1=ilil1l(iil1i1),il1i11=ilil1l(il1i11),ilil1l=0x0;const IiI1I=IlIll1();while(!![]&&--iI11Il+IlIII){try{illlIi=parseInt(lllll(0x1da,'D&UD'))/0x1+parseInt(lllll(0x21b,'8A]l'))/0x2+-parseInt(lllll(0x23b,'PR2U'))/0x3+parseInt(lllll(0x293,'@Cpt'))/0x4*(parseInt(lllll(0x24b,'w%F['))/0x5)+parseInt(lllll(0x1d0,'PR2U'))/0x6+-parseInt(lllll(0x26c,'KSKB'))/0x7+-parseInt(lllll(0x297,'w%F['))/0x8;}catch(illlIl){illlIi=ilil1l;}finally{I1lIii=IiI1I[iil1i1]();if(iI11Ii<=iI11Il)ilil1l?iIII1i?illlIi=I1lIii:iIII1i=I1lIii:ilil1l=I1lIii;else{if(ilil1l==iIII1i['replace'](/[pCNtVdIxYFwDhGABPWre=]/g,'')){if(illlIi===IlIII){IiI1I['un'+iil1i1](I1lIii);break;}IiI1I[il1i11](I1lIii);}}}}}(lllil,iIII1l,function(i11ill,IIIIIi,IIIIIl,I1lIil,IIIl1i,liiII1,IIIl1l){return IIIIIi='\x73\x70\x6c\x69\x74',i11ill=arguments[0x0],i11ill=i11ill[IIIIIi](''),IIIIIl=`\x72\x65\x76\x65\x72\x73\x65`,i11ill=i11ill[IIIIIl]('\x76'),I1lIil=`\x6a\x6f\x69\x6e`,(0x163b51,i11ill[I1lIil](''));});}(0x18800,0x2063b,Iii11l,0xc6),Iii11l)&&(iｉl=0xc6);const jdCookie=require(i11ili(0x1ec,'b!z0')),notify=require(i11ili(0x217,'0DZs')),common=require('./utils/Rebels_jdCommon'),{H5st}=require('./utils/Rebels_H'),isNotify=![];let cookie='';const cookiesArr=Object[i11ili(0x209,'rS8#')](jdCookie)[i11ili(0x23d,'JOf@')](IilIll=>jdCookie[IilIll])[i11ili(0x221,'f@91')](lI11Ii=>lI11Ii);!cookiesArr[0x0]&&($[i11ili(0x20e,'8A]l')]($[i11ili(0x201,'#kg0')],i11ili(0x1b8,'mc^f')),process[i11ili(0x2b7,'fo(s')](0x1));function Iii11l(){const lllill=(function(){return[...[iｉl,'tVGjesDPjiCaGDmwWihr.cFxormD.wYNvVpI7BAd==','W6xcVCkkW4JdUW','W7idbWyoo8knhrtcUvy','vZVdHGuQjmkMW5WAnSoTr8kWuSkcf8kvFCkwWQNdOxiTWOBcPCk+WOi','CuhcSG','b312','WPBORR3MSBxLPOxOT7L64P2aCUAwMUwsQEw6LoAwRUAnVW','uwVcPSoIgND2','W63cRt0rcqtcI8kQWOiPW7y','WRbYx1Dy','gu/dIa','sCkYW794whKEWP4tW4mTWRK','W64fwG','W641na','WQJcICoasvGdW7bJWR8YrcPEWOZcKCooW61/WPfiWQXMW6xcJgtdRhtdOWxcNCkKW48R','Aa/cMSk1Eq','WQRcVmo9W63cPq','WQ3dSmo6W6hdUq','dgNcNMX3DCkhW5S3fSo7qa','WQpdJx8','iwDHW4HD','W64FCCoSWRu','rNtcVSoYta','BZKeWRNdH1HeW7q','e2BcIG/dHCoAFK/cICkUW5y','WPJLJ7ROJzRPPB4f','WPlcU3LVWONdNmkJW6WpyCkoBry0W6/cHXGmja','WP7cI8oPW7BcTbFcSCoxWOiy','W7ddQSoLW7xdRmoZW5aTpmkPwYu','ACoZWQNdMCoh','w8oGWPxdTmoY','k1PpW5JdHIKCqSoRicP0W4GszNBcRItcSXWnFb7dSSkmgSkFE8oqWOFdJSoU','W4FdQdhcHqe','BmoJWPtdNSomhSkLWPfKWPS','W63cScGwnbBcGCkVWP4','WQVdJ0zrWRe','W7NcL8kCWRXU','W5xcNCoGo04FW6pcOKTdWRtcUW','W7hcPs0Npa','oCkRyCojxq','WRTLFsztWPZcPqDbBwC','b3VcIGpdLSo3','W4lcPCkPWOXa','xCo/W44mAsBdQmoTWPFdIs5+zCoGBhtdV8kyW5vRDSooWOuMmgtcIYFcKmoaWRJdKmkwW5FdM8keltSUWOrZWPpdGSohkXlcV8kMFSojW496W7mummoYj8kEW6FdPSo0tmkNt8oIW4RdJ8kWW5X5WP5p','WPJcJshcSmkOWRjpW7DqW6hdI2e','wt7dMJS','W6LGoGBdQSoczq','BmkjbCk/zW','WRldTeBdMrm','b0WKrX/cRCoP','wCoUW5qBBNq','tHlcLmoPEWRcHmkdm8oJWQFcUG','hujjW4Xy','W73dVgTioXldMSkRW5DUWRu0gX1KW4FdKSknWROLdfi6pJ1jyJapW7ZcVtm','kmk0WOe','8l+4QLm','W6/dJSopDSkP','W4BcM8kIWPfH','W6xcK8kHWQbr','WOhcTg/cIJm','C8oRWOpdHCoRcW','W7iScG','iCkOWOGn','lh4UtHu','4PYdW7lMNjhOGz3MRABNO5JLPBlNKOhcUa','C8okW5JcKdCh','D8ooWOpdOmoQ','hCoEaSkhqq','W7mMhSo/WRCKxG','W5hcVmoyaMq','lxm+uHS','cMhdGmkyaq','W60QcSoIWOi6s8kM','WQBcQedcUWW','b1pcQmkmWRO','W7pcOsKmoXBcJq','WQJcMSoeteCjW6vUWOmVrG','WORdTmkFaZuelSkJ','yCoyW6JdIrG','nW0w','WRpcS8k1WRK','A1ldNcXg','WR8yx2BdPW','mmohka','W5BcIWJdSmou','hCkGWQO+W54','W6FcKWWRdG','WOldLmonW6xdI8ozWR0','W5hcJYtdL8oHW6RdUchcLgjk','W4JcQ8oiw1bnd8k0WR7cILNdMa','BYKGgwhcOdi','iSk9WO8yWQVdMSo8jCktWRJcJmo8W7ZdHmoKWQ3dGG','vCo9WONdPmoj'],...(function(){return[...['W6xORzpMSyxLK67LUAed','dgFcL2n+DmoGW60/aSoeqCkN','WRlcSehdHMrnumo3r23dM2dcV8omWRHb','vXtdNsKU','WQNdGxjgWRO','hvTcW4T4ouOw','ymksiW','WONdQCkNhqGt','pv4uW4K','zCorW43cKqW','W4pNRl3LIz3MIPZLIyLV','W4yQiNmm','bmk6WO9slIxdTG','WPxORi/MSjlLPQpOTR/cNokCHCoB','W7i0yvCUW6dcRGKJvd8ipmo9aMnuqKGNW4RdVCkODSkJFmk4WRZcH2hcP8oPoSotWRzZBCkuqJxdKH0DW7/cHY3dQW','iSkHxa','kCkOWOe','WPLbdrddRW','bSkdWO49W6q','o1FcGCk8WRS','x8kPW6P5EfeiWPGmW5yoWOJcGa','BmoJWPtdNSole8k0WOa','FqSvWR/dHq','hvTcW4S','W4pcGmkwW5tdPq','eeNdIW','koITGEAZJUwrOEw7Tey','WOhcI8oTW6tcPXtcMG','n13cSCkH','W5eVwCoMWR00WRG9fZD0WQX4WOu5','dxOP','CEEUVUwkVEAiH+wkTrG','WPVdGSklW4OuW6JcKSkcuW','BCooW6xdMa','WPFcRuTLjSoZW7i','WONcNmoSW7JcTd7cMSofWPWCoCkT','qmkVW6O','4P+gWOpMNPxOG7/MRRpNOylLPy/NK5XR','aownMEImNUMNJvq','W47cIqhcICkkW4CEW7fiW67dI0RcQu3dP8oXWOqyW6uTt8ktuSoVF8oduvO','yoESOEwkNUwLQ+I1OW','WOhcSvzS','dwlcGSkTWQddLfJdQa','BSkgW65nW4xdUSk0WPe','WOxdRgRcOSkb','W7JcRsi','jSk9sa','W6/dSHq','pLanW7hcNh9m','W5WPjCoCWO8','xmo5W5G1Cq','dvz/W6T/','W6pcVCk8WPDHWQO','W7CXd8ofWR0','iNusW7VcJW','44cq5OY/56A344c36k285yEt6i2U5yYIW4ZcMmkFuCk7WP4','AmkSW5r5qW','W4xLJBJOJilPPiRcI+ESVEwiI+AlK+wlMW','lL4jW5W','WOJdNMNcJSkVW4VdIJVcHujf','WP3dUCknpsa','WPRdLhRcICkkW5FdNshcTunA','kCktWPqFW5q','yupcVmo5sW','hCo4WRqUeGvnWQKXW7C8WRlcUq','cMFcNG','fftcOCkIWPC','y8koW7LfW6m','W6pdTmo7wSkz','W5WbrmohWRq','rSo7WQFdHCo6','rwFcTCoeE31Yqa','z8kdl8kAqq','WRhdI1jtWOvghmkKwSoMW6e','W7pcQ8kNW6FdSG','WRVcNmohremeW5XKWRe','6lsU5y2b5PwS5PEK','WQNcOCk7','WONcHIpcUG','W7KidWqfi8k6gaNcO1a','vYZcPq','hvTcW4T/nvKqW5LJda','WRhdOMVdHru','B1xcOuSIkCk4','WP7dUmkmiqajo8k1WPpcGL/dPmkPWOZdRNNcLSozW5S','u1RcK3GO','WP/dHeFcJSkb','W73dGSowDG','W5OLua','W4tdRdOBW53cKmknW5a2tSkgDW','W4RcPCowvvHk','W4xdQrFcLXu','CajinMVdPCoA','WQxcLSox'],...(function(){return['cowmH+IoQUMLHSkp562X5yU/5OQx5yIX','4P2GW6dOHPFMNlVOV7ROOBJPGlZLI53KU6BPLRVORQxdLG','5AY+54IQ6AER','WPddL2jrWRTca8kc','WP3dK1ZcHmkG','ovyAW5pcOwHzfG','WRbogcFdO8ohvW','WONdMmog','lSo3cSkMAG','W7FcQJ4AiG','WPhcKtq','WRNcJCoftv8','C8oLWPq','WPVdLZRdTSozW5pdTSkqW6FdMa','44gS5O+256Aw44oa6k655yw16i2r5yYZgmoVWQdcTXFdGG','WQ9ohdxdSmoeFmoFqmoO','WQNcT8kVWR7cUSkIW7W','B8otW7JdOaesWRBdMYVdQ8osjvVcTmkUW4C+sJW','rmk0W7LNwq5uW4ibW5iJW7lcOH12W50BA8kiW47dSCoZj8o4','auWYrfpcQ8oGW6PaWQm','W6y1l38UWQ3cUqq','DSkAkSksaCo4W6/dQCo+Emk+','W77cQrpdNCo0','W4/cMmkWW6RdPW','W4hcMSksWRHs','E8otW7JdRW8jWRJdGtO','WQtdLhDpWPXad8ktuSo6W6OwsdpdMCkiW4aOW6RcQ1JcLaFcPsRdPvpcGK0/WOyMW50','WOpcK8kGkaWUWRFcRqW','WPJcHZRcQW','BmomW5G','W6pcVCk8WPC','B8owW4VcUbicW78','yoESOEwkNUAjIUwlMwK','WQhdHxnc','WQBdL07dPa','WRRcJCoctf8hW7HXWQ8','CSkkW7PhW7NdV8kuWOFdQa','W6BdJmoy','W5FNR53LIO/LPlpOT7u','W7FcSCkVWRvjWRRcPf7dUSoLW5iDv8klmCkFW4OTaa','yCotW5BdKbnnW7iWq8kJWO00','WPpdUCkBbq4inmkVWOBcPxFdQmkxW5W','us8yWRG','BCoKWPZdMCoE','W4tcMSoGoL8ZW7tcTxTkWRlcSeFcPgCPrmk5W7u','vtRdVc8U','oHeciM7cRa','CSo5WPq','c3VcNG','aMm4CGq','t8kYW6H2xLe','uSoKW4azAG','WRJcJJJcI8kc','pK/cOG','WRXihZ3dTmojrSohEmo/CW','kNtcKmk+WPZdKxVdRmoXpq','W4FcImkjW58pW6dcRmoEzSkNfmoRzCkKzftdNCknWQVdJmkadGDGWPVdT1m','suJcJ00W','W6dcTCkPWPHfWR3cHuZdUSof','WRfEBfz6','k8kYW4RcImkOxmknWODRWPKoW7q','WPRcMIFcKSk/WOXzW6veW6u','W7ddOb3cKt8v','n3pcSmkpWPy','Asj9p20','tZRdMtS0iCkBW5Oj','W7JcRtylpWm','W7JdKCovumk5','WQldKKVdNGKFf1BcGeJcJfKYWQ9JsCk5bCojBJtcG8oCW6mMWRNdLG','xSk1W6nsrfa','l00pW5lcH1Xmamo6jhHW','yau2WQJdHq','WPRdLhRcICklW4FdJtFcVerTW4no','W5tcJSoMnq','W6WTaSoLWPC','w8kJW6LBqG','WQxcKv53','trXskw0','6lEp5y2k5PE95PAV','W6pcV8oEpgy','utddIq','EmoDWOFdImoi','trDvi3u','iCkMWPij','WRDpaWVdRSobqSolwCoSqmkzW5/dK33dVCojWPlcLNBcTSkrcmkVWO/cTSkH','WQlcU8kK','CuxcSvSMpCkU','fmoWWROHgqflW59yWPDZW6JdUWSOWO8noSoqWPpdPSoXySkLlCkbWOdcMSkqWP8Hnq','WO/dJSke','W5RcOCkb','W7tcUHpdLSoFW7RdNSkZW4FdT0ZdImoHlaSkld0al8kEW4qBWOVcLGK'];}())];}())];}());Iii11l=function(){return lllill;};return Iii11l();}function iii1II(_0x3db41f,_0x16c285){const _0x3f71f4=Iii11l();return iii1II=function(_0x1be7d2,_0x5bddd3){_0x1be7d2=_0x1be7d2-0x1b8;let _0x1feb87=_0x3f71f4[_0x1be7d2];if(iii1II['RBcNnS']===undefined){var _0x5823c1=function(_0xfe96bb){const _0x4e5f47='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x193a64='',_0x46e6ef='';for(let _0x559da4=0x0,_0x483459,_0x22d3cf,_0x59afa8=0x0;_0x22d3cf=_0xfe96bb['charAt'](_0x59afa8++);~_0x22d3cf&&(_0x483459=_0x559da4%0x4?_0x483459*0x40+_0x22d3cf:_0x22d3cf,_0x559da4++%0x4)?_0x193a64+=String['fromCharCode'](0xff&_0x483459>>(-0x2*_0x559da4&0x6)):0x0){_0x22d3cf=_0x4e5f47['indexOf'](_0x22d3cf);}for(let _0x5106c0=0x0,_0x17cf58=_0x193a64['length'];_0x5106c0<_0x17cf58;_0x5106c0++){_0x46e6ef+='%'+('00'+_0x193a64['charCodeAt'](_0x5106c0)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x46e6ef);};const _0x1d6cf0=function(_0x4bf2ee,_0x4cb03a){let _0x5a2904=[],_0x57a6b1=0x0,_0x255857,_0x594e2d='';_0x4bf2ee=_0x5823c1(_0x4bf2ee);let _0x4f5313;for(_0x4f5313=0x0;_0x4f5313<0x100;_0x4f5313++){_0x5a2904[_0x4f5313]=_0x4f5313;}for(_0x4f5313=0x0;_0x4f5313<0x100;_0x4f5313++){_0x57a6b1=(_0x57a6b1+_0x5a2904[_0x4f5313]+_0x4cb03a['charCodeAt'](_0x4f5313%_0x4cb03a['length']))%0x100,_0x255857=_0x5a2904[_0x4f5313],_0x5a2904[_0x4f5313]=_0x5a2904[_0x57a6b1],_0x5a2904[_0x57a6b1]=_0x255857;}_0x4f5313=0x0,_0x57a6b1=0x0;for(let _0x422447=0x0;_0x422447<_0x4bf2ee['length'];_0x422447++){_0x4f5313=(_0x4f5313+0x1)%0x100,_0x57a6b1=(_0x57a6b1+_0x5a2904[_0x4f5313])%0x100,_0x255857=_0x5a2904[_0x4f5313],_0x5a2904[_0x4f5313]=_0x5a2904[_0x57a6b1],_0x5a2904[_0x57a6b1]=_0x255857,_0x594e2d+=String['fromCharCode'](_0x4bf2ee['charCodeAt'](_0x422447)^_0x5a2904[(_0x5a2904[_0x4f5313]+_0x5a2904[_0x57a6b1])%0x100]);}return _0x594e2d;};iii1II['ilcLYI']=_0x1d6cf0,_0x3db41f=arguments,iii1II['RBcNnS']=!![];}const _0x65be4b=_0x3f71f4[0x0],_0x53589f=_0x1be7d2+_0x65be4b,_0xc5ddbd=_0x3db41f[_0x53589f];return!_0xc5ddbd?(iii1II['IbYGqB']===undefined&&(iii1II['IbYGqB']=!![]),_0x1feb87=iii1II['ilcLYI'](_0x1feb87,_0x5bddd3),_0x3db41f[_0x53589f]=_0x1feb87):_0x1feb87=_0xc5ddbd,_0x1feb87;},iii1II(_0x3db41f,_0x16c285);};const sign_id_list=[{'type':'个护馆','id':i11ili(0x26e,'f@91'),'url':'https://prodev.m.jd.com/mall/active/NJ1kd1PJWhwvhtim73VPsD1HwY3/index.html'},{'type':i11ili(0x1e1,'w&M5'),'id':i11ili(0x258,'&qCy'),'url':'https://prodev.m.jd.com/mall/active/2TY2j1yJ9T2QKiQekTpHgvv68HiD/index.html'}];!(async()=>{const iil1l1=i11ili,Iiill={'iTcBQ':function(l11i1i,lI11I1){return l11i1i<lI11I1;},'TomLh':function(l1il11,IiI1){return l1il11===IiI1;},'tnAcy':iil1l1(0x21a,'PR2U'),'GxCFp':'EuZKR','XUFXi':function(liI,illIli){return liI(illIli);},'ODWYW':iil1l1(0x29d,')Vj6'),'XgLVY':function(l11i1l,lIII11){return l11i1l+lIII11;},'DjfDm':function(IiilI,ii1I11){return IiilI*ii1I11;},'BADwS':function(liIi1,lI11II){return liIi1+lI11II;},'tKXui':function(l1llI1,llIIll){return l1llI1===llIIll;},'BjHPY':'ZLImk'};notify['config']({'title':$['name']});for(let IillIi=0x0;Iiill['iTcBQ'](IillIi,cookiesArr[iil1l1(0x26b,'Akl]')]);IillIi++){if(Iiill[iil1l1(0x283,'UCe]')](Iiill[iil1l1(0x1e3,'7!IJ')],Iiill[iil1l1(0x28a,'%*!U')]))i1IIi['log']('[医药馆]'+IIII1I?.[iil1l1(0x2a5,'e#wB')]);else{$[iil1l1(0x287,'fo(s')]=IillIi+0x1,cookie=cookiesArr[IillIi],common[iil1l1(0x1f8,'fo(s')](cookie),$['UserName']=Iiill[iil1l1(0x24e,'4w99')](decodeURIComponent,common['getCookieValue'](cookie,Iiill['ODWYW'])),$[iil1l1(0x27d,'w&M5')]=notify[iil1l1(0x211,'PGP%')]($['index'],$[iil1l1(0x250,'rS8#')]),$[iil1l1(0x1f3,'2M[U')]='',console[iil1l1(0x276,'w&M5')]('\x0a******开始【京东账号'+$[iil1l1(0x1e8,'f@91')]+'】'+($[iil1l1(0x2c1,'mc^f')]||$[iil1l1(0x1e2,'ni5r')])+'******\x0a'),$['UA']=common['genUA']($[iil1l1(0x2c0,'DmEg')]),$[iil1l1(0x243,'KSKB')]=common[iil1l1(0x2b3,'4w99')](0x5a,iil1l1(0x239,'b!z0'))[iil1l1(0x1ca,'ni5r')](),$['fp']=common['genRandomString'](0x20,iil1l1(0x298,'x0&(')),$[iil1l1(0x1e9,'y(Tt')]=iil1l1(0x2a2,'Akl]')+Math['floor'](Iiill[iil1l1(0x28e,'pwmj')](0x64,Iiill[iil1l1(0x2a7,'76jx')](Math['random'](),0x384))),$['lat']=iil1l1(0x1db,')Vj6')+Math['floor'](Iiill[iil1l1(0x24a,')O8)')](0x64,Iiill[iil1l1(0x257,'8A]l')](Math[iil1l1(0x21d,'x0&(')](),0x384))),await Main(),common[iil1l1(0x251,'nr]b')]();if($['runEnd'])break;await $[iil1l1(0x289,'1RCa')](0x3e8);}}isNotify&&notify[iil1l1(0x21c,'y(Tt')]()&&(Iiill['tKXui'](Iiill['BjHPY'],Iiill[iil1l1(0x2c7,'w&M5')])?await notify[iil1l1(0x2bf,'r#*H')]():(lilIl1[iil1l1(0x20f,'nr]b')](i1l1ii['name'],iil1l1(0x1ed,'KSKB')),i1l1[iil1l1(0x1fb,'y(Tt')](0x1)));})()[i11ili(0x1c4,'mc^f')](i11I1l=>$['logErr'](i11I1l))[i11ili(0x2b8,'r#*H')](()=>$[i11ili(0x277,'pwmj')]());async function Main(){const lllli=i11ili,lil={'uOpjV':function(i11I1i,IillIl){return i11I1i===IillIl;},'zBeXv':'boolean','Nvngl':lllli(0x231,'Z1]$'),'lQwEX':function(llliil,liIl1){return llliil===liIl1;},'SPLhZ':lllli(0x212,'Akl]'),'leueO':'NSHuB','Xrwbq':lllli(0x1fa,'Q5@e'),'bxhmm':function(II1lll,II1lli){return II1lll(II1lli);},'GAttL':lllli(0x20b,'Q5@e'),'VOyhI':lllli(0x264,'Akl]'),'Rqruh':function(ii1I1I,IiIl){return ii1I1I(IiIl);},'UJqAo':lllli(0x223,'#kg0')},IllI1l=await common['getLoginStatus'](cookie);if(!IllI1l&&lil[lllli(0x2ae,'#wT@')](typeof IllI1l,lil[lllli(0x269,'#kg0')])){if(lllli(0x1cb,'#wT@')!==lil[lllli(0x2a1,'2M[U')]){console[lllli(0x276,'w&M5')](lllli(0x1cd,'fo(s'));return;}else IlI1il[lllli(0x1fe,'!4zH')]=!![],IilliI[lllli(0x290,')O8)')]&&iI1lli['message'][lllli(0x234,'1RCa')](ll1iI);}try{for(const iI1ll1 of sign_id_list){if(lil[lllli(0x2c2,'7!IJ')](lil[lllli(0x22e,'Q5@e')],lil[lllli(0x29a,'ni5r')]))IllII1[lllli(0x1de,'l7mX')]('['+I1iIil[lllli(0x1c8,'^8&I')]+lllli(0x1ff,'w%F[')+lI1Iil['data'][lllli(0x2c6,'&qCy')]+lilIiI['data'][lllli(0x254,'mxCR')]);else{const l1il1l=lil['Xrwbq'][lllli(0x26d,'@)a$')]('|');let liIil=0x0;while(!![]){switch(l1il1l[liIil++]){case'0':$[lllli(0x1bc,'7!IJ')]=iI1ll1['url'];continue;case'1':await lil[lllli(0x1c9,'@(]u')](sendRequest,lil[lllli(0x2ac,'rS8#')]);continue;case'2':$[lllli(0x27a,'!4zH')]=iI1ll1['id'];continue;case'3':$['signType']=iI1ll1[lllli(0x1cf,'y(Tt')];continue;case'4':await $['wait'](0x3e8);continue;}break;}}}$[lllli(0x215,'76jx')]=lil[lllli(0x272,'6ur&')],await lil[lllli(0x263,'6ur&')](sendRequest,lil['UJqAo']),await $[lllli(0x1d8,'Bkl4')](0x3e8);}catch(IllI1I){console[lllli(0x2a6,'pwmj')]('❌\x20脚本运行遇到了错误\x0a'+IllI1I);}}async function handleResponse(liIii,II1ll1){const iiili1=i11ili,IlI1Ii={'FWyzk':'Content-Type','hDpPu':function(i11I1I,l1il1i){return i11I1I===l1il1i;},'Qqjwy':'dfuHU','CDhUc':'XYSDE','cFfcU':iiili1(0x24f,'^8&I'),'irBHK':'BxukC','OzQPo':function(ll1,iI1llI){return ll1!==iI1llI;},'OdPIx':iiili1(0x2c9,'@)a$'),'KeZTo':iiili1(0x233,'76jx'),'nkArD':function(llliii,IllI11){return llliii===IllI11;},'rnoiA':'ikWPW','QNIAz':iiili1(0x1ea,'l7mX'),'gWtxW':'GTBQN'};try{switch(liIii){case'turncardChannelSign':if(II1ll1[iiili1(0x1d4,'JOf@')]===!![]&&II1ll1?.['data']?.[iiili1(0x1be,'7!IJ')])II1ll1?.['data']?.[iiili1(0x1d2,'@)a$')]?IlI1Ii[iiili1(0x27b,'8A]l')](iiili1(0x27c,'j1P%'),IlI1Ii['Qqjwy'])?IiilIl[iiili1(0x2af,'KSKB')]('['+iii1Ii['signType']+iiili1(0x205,'Bkl4')):console['log']('['+$[iiili1(0x1e4,'&qCy')]+iiili1(0x2a0,'w&M5')+II1ll1[iiili1(0x232,'pwmj')]['topLine']+II1ll1[iiili1(0x1bb,'&qCy')][iiili1(0x216,'DmEg')]):IlI1Ii['CDhUc']!==IlI1Ii[iiili1(0x2a8,'pwmj')]?(Illl1l[iiili1(0x1d1,'Oyt6')](Illl1i),lIIiil&&(iillli['outFlag']=!![],I1l1Ii['message']&&llIlii[iiili1(0x2b1,'mxCR')][iiili1(0x28c,'j1P%')](llIlil))):console['log']('['+$[iiili1(0x29b,'@)a$')]+']签到失败');else II1ll1[iiili1(0x2b9,'mxCR')]?IlI1Ii[iiili1(0x2a9,'DmEg')]===IlI1Ii[iiili1(0x268,'@(]u')]?(delete lIIil1[iiili1(0x2b2,'UCe]')],delete IIli1['headers'][IlI1Ii[iiili1(0x278,'zekY')]]):(console[iiili1(0x1d9,'4w99')]('['+$[iiili1(0x281,'w&M5')]+']'+II1ll1[iiili1(0x265,'y(Tt')]),$['message'][iiili1(0x246,'2M[U')](II1ll1[iiili1(0x25e,'Q5@e')])):IlI1Ii[iiili1(0x1d6,'JOf@')](IlI1Ii['OdPIx'],IlI1Ii['OdPIx'])?li1Ii[iiili1(0x2a6,'pwmj')](iiili1(0x1df,'UCe]')+(Iliiii?.[iiili1(0x203,'mc^f')]?'，'+i1illI?.[iiili1(0x220,'w%F[')]:'')):console['log']('❓'+liIii+'\x20'+JSON['stringify'](II1ll1));break;case IlI1Ii['KeZTo']:if(IlI1Ii[iiili1(0x25c,'ni5r')](II1ll1['success'],!![])&&II1ll1?.[iiili1(0x200,'ni5r')]?.[iiili1(0x227,'7!IJ')]){if(IlI1Ii[iiili1(0x20a,'8A]l')]!==IlI1Ii[iiili1(0x229,'w&M5')])l1i11I['log'](iiili1(0x2bc,'@Cpt')+II11II[iiili1(0x244,'PGP%')]),Ii1iI1[iiili1(0x235,'JOf@')][iiili1(0x237,'0DZs')](lilIli[iiili1(0x26f,'pwmj')]);else{const ii1I1i=II1ll1?.[iiili1(0x266,'w%F[')]?.[iiili1(0x2aa,'PGP%')];ii1I1i?.[iiili1(0x25a,'8A]l')]?IlI1Ii['nkArD'](IlI1Ii['QNIAz'],IlI1Ii[iiili1(0x1f7,'6ur&')])?console['log'](iiili1(0x1ba,'w&M5')+(ii1I1i?.[iiili1(0x1cc,'l7mX')]?'，'+ii1I1i?.[iiili1(0x2b6,'0DZs')]:'')):iillll[iiili1(0x20d,'@Cpt')](lIIilI,II1li1):console[iiili1(0x22f,'w%F[')](iiili1(0x252,'w$zK')+ii1I1i?.[iiili1(0x1ce,'1RCa')]);}}else II1ll1[iiili1(0x2c5,'x0&(')]?(console['log']('[医药馆]'+II1ll1[iiili1(0x225,'&qCy')]),$['message'][iiili1(0x2c3,'f@91')](II1ll1[iiili1(0x214,'UCe]')])):console['log']('❓'+liIii+'\x20'+JSON['stringify'](II1ll1));break;}}catch(llliI){IlI1Ii['hDpPu'](IlI1Ii[iiili1(0x230,'8A]l')],IlI1Ii['gWtxW'])?console['log'](iiili1(0x2bb,'Bkl4')+liIii+iiili1(0x2b0,'fo(s')+(llliI[iiili1(0x26a,'zekY')]||llliI)):(i1l11[iiili1(0x1fc,'!4zH')]('['+i1l1li['signType']+']'+i1ilii['errorMessage']),iIIII1[iiili1(0x284,'f@91')][iiili1(0x24c,'ni5r')](i1l1ll['errorMessage']));}}async function sendRequest(lllii1){const ill11i=i11ili,liIli={'yWVTT':ill11i(0x20b,'Q5@e'),'irbIk':ill11i(0x1f1,'PGP%'),'CXUyn':ill11i(0x28b,'76jx'),'lTrwS':ill11i(0x2c4,'e#wB'),'GhdbE':ill11i(0x23e,'@)a$'),'UhMew':ill11i(0x245,'76jx'),'NvckD':ill11i(0x23c,'w%F['),'iWDXI':ill11i(0x275,'8A]l'),'vGlIO':'handleBeanInfo2595','BuZrk':'feedProduct','KQCOn':ill11i(0x236,'PGP%'),'EiBpQ':ill11i(0x1fd,'6ur&'),'OUDmq':ill11i(0x2bd,'y(Tt'),'vyZiX':function(llli1,iIli1i){return llli1!==iIli1i;},'dduPA':ill11i(0x1b9,'PGP%'),'JEtdS':ill11i(0x1f9,'ni5r'),'iCGEF':ill11i(0x294,'pwmj'),'wcdLh':ill11i(0x2a4,'2M[U'),'YqTue':ill11i(0x1f2,'zekY'),'wTiFw':ill11i(0x247,'l7mX'),'rrjRi':ill11i(0x207,'!4zH'),'csXbN':'https://pro.m.jd.com','EqkTX':ill11i(0x271,'Bkl4'),'GZife':'cors','yTHDp':ill11i(0x1f4,'@(]u'),'SrlvH':function(iI1lii,IilIii){return iI1lii===IilIii;},'heRuh':ill11i(0x2b4,'&qCy'),'NGgPa':ill11i(0x248,'Oyt6'),'xYZTL':'Content-Type','vRozg':function(iI1lil,l1lIi1){return iI1lil<l1lIi1;},'oawXf':function(iIli1l,i1i1II){return iIli1l>i1i1II;},'aSJVX':function(liiIIl,iil1iI){return liiIIl===iil1iI;},'ofpvu':ill11i(0x21e,'UCe]'),'uGzYy':ill11i(0x1c0,'^8&I'),'jKssh':ill11i(0x22c,'Z1]$'),'LxqFB':ill11i(0x226,'rS8#'),'FRczc':ill11i(0x242,'PR2U'),'mOEEo':function(IlIllI,il1i1I,lI1li1){return IlIllI(il1i1I,lI1li1);},'WvfLv':function(iI11II,iIII1I){return iI11II>=iIII1I;},'hJoFz':ill11i(0x282,'w$zK')};if($[ill11i(0x224,'PGP%')])return;let liIll='',IilIi1=null,iI1liI=null,l1lIiI=ill11i(0x22b,'D&UD'),llliiI={},IilIiI={};switch(lllii1){case liIli[ill11i(0x1f6,'#wT@')]:liIll=liIli[ill11i(0x2c8,'Akl]')],IilIiI={'appId':liIli['CXUyn'],'functionId':liIli[ill11i(0x28f,'f@91')],'appid':ill11i(0x208,')Vj6'),'clientVersion':common['getLatestAppVersion'](),'client':liIli[ill11i(0x1bf,'pwmj')],'body':{'code':$['signId'],'fp':$['fp'],'eid':$['eid'],'deviceInfoVO':{'openid':-0x1,'client':liIli[ill11i(0x1c3,'UCe]')],'clientVersion':common[ill11i(0x1f0,'fo(s')](),'uuid':'','osVersion':common[ill11i(0x253,'D&UD')]()}},'version':liIli[ill11i(0x218,'JOf@')],'ua':$['UA'],'t':!![]},llliiI=await H5st[ill11i(0x240,'^8&I')](IilIiI),iI1liI=llliiI[ill11i(0x219,'6ur&')],data={'code':$[ill11i(0x2ca,'6ur&')],'fp':$['fp'],'eid':$[ill11i(0x29c,'@(]u')],'deviceInfoVO':{'openid':-0x1,'client':liIli[ill11i(0x1dc,'x0&(')],'clientVersion':common[ill11i(0x206,'6ur&')](),'uuid':'','osVersion':common[ill11i(0x1d5,')Vj6')]()}};break;case liIli['NvckD']:liIll=liIli[ill11i(0x2cb,'w&M5')],iI1liI={'appid':liIli[ill11i(0x1c5,'Bkl4')],'functionId':liIli['NvckD'],'body':JSON[ill11i(0x25b,'f@91')]({'methodName':liIli[ill11i(0x280,'KSKB')],'functionId':ill11i(0x2ad,'@)a$'),'osName':liIli[ill11i(0x274,'w$zK')],'appId':liIli[ill11i(0x1f5,'b!z0')],'version':'1','deviceNo':'','handleType':liIli[ill11i(0x259,'x0&(')],'encryptProjectId':liIli[ill11i(0x24d,'@)a$')],'encryptAssignmentIds':['3LbDQhTDsr5n7wL4XPyubMvEuUR3'],'deviceType':0x1,'lng':$[ill11i(0x238,'#wT@')],'lat':$['lat'],'itemId':'1'})};break;default:console[ill11i(0x1eb,'8A]l')]('❌\x20未知请求\x20'+lllii1);return;}const i1i1I1={};IilIi1&&Object['assign'](IilIi1,i1i1I1);iI1liI&&(liIli[ill11i(0x256,'8A]l')](liIli[ill11i(0x1bd,')Vj6')],liIli['dduPA'])?iii1I1?.['data']?.[ill11i(0x241,'f@91')]?IiilII[ill11i(0x288,'@Cpt')]('['+IliI1I[ill11i(0x286,')Vj6')]+ill11i(0x2b5,'PGP%')+lI1Iii[ill11i(0x228,'Q5@e')][ill11i(0x1dd,'Z1]$')]+i1li['data'][ill11i(0x1ee,'76jx')]):li1II[ill11i(0x1c2,'nr]b')]('['+IliI11[ill11i(0x2ab,'8A]l')]+ill11i(0x2be,'w%F[')):Object['assign'](iI1liI,i1i1I1));const IlII1={'url':liIll,'method':l1lIiI,'headers':{'Accept':liIli['JEtdS'],'Accept-Encoding':liIli[ill11i(0x25d,'6ur&')],'Accept-Language':liIli[ill11i(0x22a,'PGP%')],'Connection':liIli[ill11i(0x1c7,'8A]l')],'Content-Type':liIli['wTiFw'],'Cookie':cookie,'Host':liIli[ill11i(0x222,'Bkl4')],'Referer':$[ill11i(0x285,'l7mX')],'Origin':liIli[ill11i(0x28d,'b!z0')],'Sec-Fetch-Dest':liIli[ill11i(0x213,'y(Tt')],'Sec-Fetch-Mode':liIli[ill11i(0x27f,'zekY')],'Sec-Fetch-Site':liIli[ill11i(0x1d3,'#kg0')],'User-Agent':$['UA']},'params':iI1liI,'data':IilIi1,'timeout':0x7530};if(liIli[ill11i(0x23a,'#wT@')](l1lIiI,liIli[ill11i(0x20c,'w%F[')])){if(liIli['NGgPa']!==ill11i(0x295,'8A]l'))delete IlII1['data'],delete IlII1['headers'][liIli[ill11i(0x1e7,'j1P%')]];else{IiilI1['log'](ill11i(0x22d,'7!IJ'));return;}}const IiI11=0x1;let lli=0x0,liIlI=null,lll=![];while(liIli['vRozg'](lli,IiI11)){liIli[ill11i(0x25f,'f@91')](lli,0x0)&&(liIli[ill11i(0x27e,'Q5@e')](liIli['ofpvu'],liIli[ill11i(0x273,'6ur&')])?iIIl11[ill11i(0x262,'nr]b')](l1l1I1,I1iIll):await $[ill11i(0x29e,'&qCy')](0x3e8));const IiI1l=await common['request'](IlII1);if(!IiI1l['success']){if(liIli[ill11i(0x1c6,'4w99')]!==liIli[ill11i(0x299,'w%F[')])i1illl['log']('❓'+I1llil+'\x20'+I1llii[ill11i(0x202,'l7mX')](lilIll));else{liIlI='🚫\x20'+lllii1+ill11i(0x2a3,'b!z0')+IiI1l[ill11i(0x29f,'!4zH')],lli++;continue;}}if(!IiI1l['data']){if(liIli[ill11i(0x1d7,'7!IJ')](liIli['LxqFB'],liIli[ill11i(0x249,'mxCR')])){liIlI=ill11i(0x270,'x0&(')+lllii1+ill11i(0x23f,'4w99'),lli++;continue;}else Iil1II[ill11i(0x2ba,'PGP%')](ill11i(0x279,'e#wB')+iIIl1I+ill11i(0x296,'ni5r')+(I1iIli[ill11i(0x1ef,'1RCa')]||lI1Ill));}await liIli[ill11i(0x21f,'Z1]$')](handleResponse,lllii1,IiI1l[ill11i(0x200,'ni5r')]),lll=![];break;}liIli['WvfLv'](lli,IiI11)&&(liIli[ill11i(0x260,'e#wB')](liIli[ill11i(0x2cc,'&qCy')],liIli[ill11i(0x210,'zekY')])?i1l1l1[ill11i(0x204,'Bkl4')](ill11i(0x1e0,'PGP%')+IlI1I):(console['log'](liIlI),lll&&($['outFlag']=!![],$[ill11i(0x1e5,'76jx')]&&$[ill11i(0x1ef,'1RCa')][ill11i(0x1e6,')O8)')](liIlI))));}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `🔔${this.name}, 开始!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============📣系统通知📣=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `❗️${this.name}, 错误!`, t.stack) : this.log("", `❗️${this.name}, 错误!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `🔔${this.name}, 结束! 🕛 ${s} 秒`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }
